<!doctype html><html lang=en class=h-100><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><link rel=stylesheet href=/css/bootstrap.min.css><link rel=stylesheet href=/css/style.css><title>Getting Started | AhoyDTU</title><script type=text/javascript>window.location.href.match("http://ahoydtu.de")&&(window.location.protocol="https:")</script></head><body class="d-flex flex-column h-100"><header><nav id=nav class="navbar navbar-expand-lg sticky-top navbar-dark bg-dark"><div class=container-fluid><button class=navbar-toggler type=button data-bs-toggle=collapse data-bs-target=#navbarTogglerDemo01 aria-controls=navbarTogglerDemo01 aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse justify-content-md-center" id=navbarTogglerDemo01><ul class="navbar-nav mr-auto mt-2 mt-lg-0"><li class="nav-item pe-lg-2"><a class=nav-link href=/>Home</a></li><li class="nav-item pe-lg-2"><a class=nav-link href=/getting_started/>Getting started</a></li><li class="nav-item pe-lg-2"><a class=nav-link href=/faq/>FAQ</a></li></ul></div></div></nav></header><main><script type=module src=https://unpkg.com/esp-web-tools@9.0.3/dist/web/install-button.js?module></script><div class="container col-xxl-8 px-4 py-5"><div class="row flex-lg-row align-items-center g-5 py-5"><div class=col-lg-6><h1 class="display-5 fw-bold lh-1 mb-3">Hardware / Einkaufsliste</h1><p class=lead>Die Hardware für AhoyDTU besteht nur aus zwei Modulen, einem WLAN-Modul und einem 2.4GHz Funkmodul. Für die Systemstabilität wird ein Kondensator nahe am Funkmodul empfohlen.</p><p class=lead>Der Gesamtpreis spiegelt wider was eine Hardware für Ahoy kosten darf. Auf gängigen Plattformen (z.B. ebay Kleinanzeigen) wird diese zu völlig überzogenen Preisen angeboten, also besser selbst zusammenbauen.</p><div class="alert alert-secondary" role=alert>Die extern verlinkten Angebote sind willkürlich und dienen nur als Beispiel. Die Angebote können zwischenzeitlich ausverkauft oder entfernt worden sein.</div></div><div class="col-10 col-sm-8 col-lg-6"><table class="table table-striped"><thead><tr><th scope=col>Bauteil</th><th scope=col>Anzahl</th><th scope=col>Preis (ca.)</th><th scope=col>Makershop</th><th scope=col>Ebay</th></tr></thead><tbody><tr><td>Wemos D1 Mini</td><td>1</td><td>4,40 €</td><td><a href=https://www.makershop.de/plattformen/d1-mini/wemos-d1-mini/ target=_blank>link</a></td><td><a href=https://www.ebay.de/itm/153891459582 target=_blank>link</a></td></tr><tr><td>NRF24L01+</td><td>1</td><td>3,45 €</td><td><a href=https://www.makershop.de/unkategorisiert/nrf24l01-smd-modul-24-ghz-wi-fi-funkmodul-arduino-raspberry-pi/ target=_blank>link</a></td><td>-</td></tr><tr><td>NRF24L01+ PA LNA SMA mit Antenne</td><td>(optional)</td><td>4,50 €</td><td><a href=https://www.makershop.de/module/funk/nrf24l01-pa-lna-sma-antenne/ target=_blank>link</a></td><td><a href=https://www.ebay.de/itm/291793085079 target=_blank>link</a></td></tr><tr><td>Jumper Kabel</td><td>(optional)</td><td>2,05 €</td><td><a href=https://www.makershop.de/zubehoer/kabel/40p-10cm/ target=_blank>link</a></td><td><a href=https://www.ebay.de/itm/334558008501 target=_blank>link</a></td></tr><tr><td>Kondensator 100uF</td><td>(optional)</td><td>2,89 €</td><td>-</td><td>-</td></tr><tr><th scope=row>Summe (ohne Versand)</th><td>-</td><th>7,85 €</th><td>-</td><td>-</td></tr></tbody></table><div class="alert alert-primary" role=alert>Vom Funkmodul <strong>NRF24L01+</strong> wird nur eines benötigt. Je nach Reichweite / Umgebung kann hier variiert werden.</div></div></div></div><div class=b-example-divider></div><div class="container col-xxl-8 px-4 py-5"><div class="row flex-lg-row align-items-center g-5 py-5"><div class=col-lg-6><h1 class="display-5 fw-bold lh-1 mb-3">Zusammenbau</h1><p class=lead>Für den Zusammenbau wird in der Regel ein Lötkolben benötigt. Es gibt zwei verschiedene Vorgehen, steckbar (mit Dunpont Kabeln) und fest verdrahtet.<br>Es wird die feste Verdrahtung empfohlen, da sie weniger anfällig ist.<br><br>Optional kann noch für die Stabilität ein 100uF (oder größer) Kondensator an das NRF24 Modul gebaut werden, da dieses beim Senden hohe Ströme fordert.<br>Dieser Kondensator sollte möglichst nahe am NRF24 an Pin 1 (sw) und Pin 2 (rt) positioniert werden.</p></div><div class="col-10 col-sm-8 col-lg-6"><a href=/img/fritzing/AhoyWemos_Steckplatine.jpg target=_blank><img src=/img/fritzing/AhoyWemos_Steckplatine.jpg class="d-block mx-lg-auto img-fluid" alt=schematics width=450 loading=lazy></a></div></div></div><div class=b-example-divider></div><div class="container col-xxl-8 px-4 py-5"><div class="row flex-lg-row align-items-center g-5 py-5"><div class=col-lg-6><h1 class="display-5 fw-bold lh-1 mb-3">Firmware flashen</h1><p class=lead>Ist die Hardware zusammengebaut / -gesteckt kann über den Web-Installer die Firmware (letztes Release) auf den ESP geladen werden.</p><p class=lead>Hierzu die Ahoy-Hardware per USB Kabel an den PC stecken und evtl. warten, bis die Treiber installiert sind. Anschließend auf den <strong>connect</strong> Button klicken.</p><div class="alert alert-primary" role=alert><strong>Hinweis: </strong>Der Web Installer kann sowohl für ESP8266 als auch ESP32 verwendet werden.</div></div><div class="col-10 col-sm-8 col-lg-6"><esp-web-install-button manifest=/firmware/manifest.json><span slot=unsupported><div class="alert alert-warning" role=alert>Your browser does not support installing things on ESP devices. Use Google Chrome or Microsoft Edge.</div></span><span slot=not-allowed><div class="alert alert-danger" role=alert>You are not allowed to do this using http!</div></span></esp-web-install-button><div class="alert alert-secondary mt-3" role=alert>Der Online Installer wird von <a href=https://esphome.github.io/esp-web-tools/ target=_blank>ESP Home Web Tools</a> bereitgestellt</div><p class=lead>Alternativ kann auch die aktuelle Entwicklerversion heruntergeladen werden: <a href=https://nightly.link/lumapu/ahoy/workflows/compile_development/development03/ahoy_v0.5.32_dev_build.zip target=_blank>v0.5.32</a><br>(Die Entwicklerversion kann uU. instabil sein oder Fehler enthalten!)</p></div></div></div><div class=b-example-divider></div><div class="container col-xxl-8 px-4 py-5"><h1 class="display-5 fw-bold lh-1 mb-2 pt-5">Ahoy Einrichten</h1><div class="row flex-lg-row g-5 pb-5"><div class=col-lg-6><h4><span class="badge rounded-pill bg-primary">1</span> Start</h4><p class=lead>Nach einer erfolgreichen Installation sollte der Ahoy durch ab- und anstecken neu gestartet werden.<br></p><p class=lead>Der Ahoy spannt automatisch ein WLAN mit dem Namen <strong>AHOY-DTU</strong> auf. Verbinden Sie ein beliebiges WLAN-fähiges Gerät mit diesem WLAN. Nach einer erfolgreichen Verbindung muss im Browser die Adresse <a href=http://192.168.1.1 target=_blank>http://192.168.1.1</a> aufgerufen werden.</p><div class="alert alert-primary mt-3" role=alert>Das Passwort für das WLAN <strong>AHOY-DTU</strong> ist <strong>esp_8266</strong></div><h4><span class="badge rounded-pill bg-primary mt-5">2</span> Ahoy als WLAN Client einrichten</h4><p class=lead>Damit Ahoy von jedem Gerät in Ihrem Netzwerk erreicht werden kann, ist es erforderlich, dass er sich mit dem heimischen WLAN verbindet.</p><p class=lead>Hierzu muss in die Einstellungen navigiert werden, dies geschieht über den Menüpunkt <a href=http://192.168.1.1/setup target=_blank>Settings</a>.</p><p class=lead>In der Rubrik <strong>WiFi</strong> müssen <strong>SSID</strong> und das <strong>WLAN Passwort</strong> eingetragen werden.</p><p class=lead>Um den Schritt abzuschließen müssen die Einstellungen mit einem Klick auf <strong>save</strong> gespeichert werden.</p><p class=lead>Durch einen Neustart meldet sich der Ahoy automatisch in dem eingestellten WLAN an.</p></div><div class="col-10 col-sm-8 col-lg-6"><h4><span class="badge rounded-pill bg-primary">3</span> Ahoy in Netzwerk finden</h4><p class=lead>Wurde in den Einstellungen der Defaultwert für den Gerätename nicht verändert kann mit einem <strong>ping AHOY-DTU</strong> die IP-Adresse herausgefunden werden.</p><p class=lead>Als weitere Möglichkeit bietet sich die Suche im heimische WLAN Router (z.B. Fritz!Box) an.</p><p class=lead>Die dritte Möglichkeit ist über die Serielle Console (integriert in Web Installer). Während dem Start von Ahoy wird die zugewiesene IP Adresse ausgegeben.</p><h4><span class="badge rounded-pill bg-primary mt-5">4</span> Wechselrichter hinzufügen</h4><p class=lead>Jeder Wechelrichter hat eine eindeutige Seriennummer. Diese muss in den Einstellungen eingetragen werden. Hierzu wieder die Einstellungen über die zuvor ermittelte IP-Adresse aufrufen.</p><p class=lead>Die Rubrik <strong>Inverter</strong> öffnen und die 12-stellige Serinennummer eingeben.</p><p class=lead>Der Name im nächsten Feld ist frei wählbar und dient der späteren Erkennung z.B. über MQTT.</p><p class=lead>Unter <i>Max Module Power (Wp)</i> wird die maximale Peak-Leistung der Solarmodule pro Eingang des Wechselrichters eingetragen.</p><p class=lead>Die <i>Modul Namen</i> sind optional, auch diese dienen der späteren Erkennung.</p><div class="alert alert-primary mt-3" role=alert>Die Seriennummer des Wechselrichters klebt zweifach unten auf dem Wechselrichter.</div></div></div></div><div class=b-example-divider></div><div class="container col-xxl-8 px-4 py-5"><h1 class="display-5 fw-bold lh-1 mb-2 pt-5">Daten empfangen</h1><div class="row flex-lg-row g-5 pb-5"><div class=col-lg-6><p class=lead>Der ESP versucht in der Standardeinstellung alle 30 Sekunden Daten vom Wechselrichter abzufragen. Hierzu benötig er eine gültige Zeit.</p><p class=lead>Man kann auf der Startseite von Ahoy prüfen, ob die Zeit <i>ESP-Time</i> korrekt ist. Falls nicht kann man über das Setup in der Rubrik <strong>NTP Server</strong> die Zeit neu setzen.</p><div class="alert alert-primary mt-3" role=alert><strong>Hinweis: </strong>Ahoy kann den Wechselrichter nur bei Tageslicht erreichen, da dessen Funkmodul ausschließlich von den Solarmodulen versorgt wird.</div></div><div class="col-10 col-sm-8 col-lg-6"><p class=lead>Nach kurzer Zeit werden die ersten Daten von Ahoy empfangen. Hierfür ist die Rubrik <strong>Statistics</strong> auf der Startseite sehr hilfreich.</p><p class=lead>Der Zähler hinter <i>RX success</i> gibt an, wie viele Pakete erfolgreich empfangen wurden. Um festzustellen, ob der Wechelrichter überhaupt antwortet kann der Zähler hinter <i>Frames received</i> herangezogen werden.</p></div></div></div><div class=b-example-divider></div><div class="container col-xxl-8 px-4 py-5"><h1 class="display-5 fw-bold lh-1 mb-2 pt-5">Weiterführende Einstellungen</h1><div class="row flex-lg-row g-5 pb-5"><div class=col-lg-6><h4>MQTT verbinden</h4><p class=lead>Um Ahoy in ein Smarthome (ioBroker, Homeassistant, etc.) einzubinden, bietet sich MQTT als gängige Schnittstelle an. Hierüber werden automatisch die vom Wechselrichter gelesenen Werte an einen sog. MQTT-Broker (z.B. <a href=https://mosquitto.org/ target=_blank>Mosquitto</a>) gesendet.</p><p class=lead>Hierzu muss in den Einstellungen in der Rubrik <strong>MQTT</strong> der Broker, dessen Port (Standard ist 1883) und ein (frei wählbares) <i>Topic</i> angegeben werden.</p></div><div class="col-10 col-sm-8 col-lg-6"><h4>Sonnenauf und -untergang</h4><p class=lead>Da der Wechselrichter nur bei Tageslicht Daten sendet, kann optional eine Nachtabschaltung konfiguriert werden. Hierzu sind die Geokoorinaten vom Standort nötig. Sind diese korrekt eingetragen, wird automatisch der lokale Sonnenauf- und untergang berechnet.</p><p class=lead>Die Koordinaten müssen mit Dezimalpunkt angegeben werden, z.B. <strong>51.1</strong> und <strong>10.2</strong>.</p></div></div></div><div class=b-example-divider></div><div class="container col-xxl-8 px-4 py-5"><h1 class="display-5 fw-bold lh-1 mb-2 pt-5">Wie geht es weiter?</h1><div class="row flex-lg-row g-5 pb-5"><div class=col-lg-6><h4>Beitragen / Unterstützen</h4><p class=lead>Inzwischen besteht die Community von Ahoy schon aus ca. 1000 Leuten, jeder ist herzlich willkommen.</p><p class=lead>Es gibt verschiedene Themen, welchen die Gemeinschaft voranbringen:<ul class=lead><li>Erweiterungen / Verbesserungen am Code</li><li>Dokumentation der Features</li><li>Diskussion mit anderen Mitgliedern</li><li>Testen und Berichten von Fehlern</li><li>Support von neuen Mitgliedern</li><li>Entwerfen von Platinen / Gehäusen für Ahoy</li><li>Spende an die Entwickler</li></ul></p></div><div class="col-10 col-sm-8 col-lg-6"><h4>Links</h4><p class=lead><ul class=lead><li><a href=https://github.com/lumapu/ahoy target=_blank>Github Repository</a></li><li><a href=https://discord.gg/WzhxEY62mB target=_blank>Discord Server</a></li><li><a href=https://paypal.me/lupusch target=_blank>Donation</a></li></ul></p></div></div></div></main><footer class="footer mt-auto text-center text-lg-start text-white" style=background-color:#45526e><div class="container p-4 pb-0"><section><div class="row d-flex"><div class=col-auto><p><a href=/imprint class=text-white>Imprint</a></p></div></div></section></div><div class="text-center p-3" style=background-color:rgba(0,0,0,.2)>© 2022
<a class=text-white href=https://ahoydtu.de>AhoyDTU.de</a></div></footer><script type=text/javascript src=/js/bootstrap.bundle.min.js></script></body></html>